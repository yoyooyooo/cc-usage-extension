# CC Usage Monitor | API ä½¿ç”¨é‡ç›‘æ§æ’ä»¶

<div align="center">

![Logo](./public/icon/128.png)

[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![Version](https://img.shields.io/badge/version-1.2.1-green.svg)]()
[![Chrome Web Store](https://img.shields.io/badge/Chrome-Extension-red.svg)]()
[![Firefox Add-ons](https://img.shields.io/badge/Firefox-Add--on-orange.svg)]()

</div>

## ğŸ“ é¡¹ç›®ç®€ä»‹

CC Usage Monitor æ˜¯ä¸€æ¬¾ä¸“ä¸º Claude Code ç”¨æˆ·è®¾è®¡çš„æµè§ˆå™¨æ’ä»¶ï¼Œç”¨äºå®æ—¶ç›‘æ§ Claude Code çš„ä½¿ç”¨é‡å’Œé¢„ç®—æ¶ˆè´¹æƒ…å†µã€‚é€šè¿‡æ™ºèƒ½çš„é¢„ç®—ç®¡ç†å’Œç›´è§‚çš„æ•°æ®å¯è§†åŒ–ï¼Œå¸®åŠ©æ‚¨æ›´å¥½åœ°æ§åˆ¶ Claude Code çš„ä½¿ç”¨æˆæœ¬ã€‚

### âœ¨ æ ¸å¿ƒç‰¹æ€§

- ğŸ¯ **æ™ºèƒ½é¢„ç®—ç›‘æ§** - å®æ—¶è·Ÿè¸ªæœˆåº¦/æ—¥åº¦é¢„ç®—ä½¿ç”¨æƒ…å†µ
- ğŸ¤– **æ™ºèƒ½å­—æ®µåŒ¹é…** - è‡ªåŠ¨è¯†åˆ« API å“åº”ä¸­çš„é¢„ç®—å’ŒèŠ±è´¹å­—æ®µ
- â° **å·¥ä½œæ—¶é—´é…ç½®** - æ ¹æ®å·¥ä½œæ—¶é—´è®¡ç®—æ¶ˆè´¹é€Ÿç‡ï¼Œæä¾›ç²¾å‡†è­¦ç¤º
- ğŸ“Š **æ•°æ®å¯è§†åŒ–** - åœ†å½¢è¿›åº¦æ¡ã€çŠ¶æ€å¡ç‰‡å’Œå†å²è¶‹åŠ¿å›¾è¡¨
- ğŸŒ™ **ç°ä»£åŒ–ç•Œé¢** - æ·±è‰²ä¸»é¢˜è®¾è®¡ï¼Œè§†è§‰ä½“éªŒä¼˜é›…
- ğŸ”„ **å®æ—¶æ›´æ–°** - 60 ç§’æ™ºèƒ½ç¼“å­˜ï¼Œé™ä½ API è´Ÿè½½
- ğŸš¨ **æ™ºèƒ½è­¦ç¤º** - å¯è‡ªå®šä¹‰çš„å¤šçº§é¢„ç®—è­¦ç¤ºç³»ç»Ÿ
- ğŸ”” **æ™ºèƒ½é€šçŸ¥** - åå°ç›‘æ§ï¼Œé¢„ç®—è¶…é™è‡ªåŠ¨æé†’
- ğŸ“ˆ **å†å²åˆ†æ** - æ”¯æŒå†å²æ•°æ®è®°å½•å’Œè¶‹åŠ¿åˆ†æ
- âš¡ **é«˜æ€§èƒ½** - åŸºäº Zustand çš„ç°ä»£åŒ–çŠ¶æ€ç®¡ç†

## ğŸ¬ åŠŸèƒ½æ¼”ç¤º

![CC Usage Monitor ç•Œé¢æˆªå›¾](./screenshot.png)
![CC Usage Monitor ç•Œé¢æˆªå›¾](./screenshot2.png)

### ä¸»ç•Œé¢ - Popup

- åœ†å½¢è¿›åº¦æŒ‡ç¤ºå™¨æ˜¾ç¤ºå½“æ—¥é¢„ç®—ä½¿ç”¨ç‡
- å®æ—¶å€’è®¡æ—¶æ˜¾ç¤ºå½“å¤©å‰©ä½™æ—¶é—´
- æ™ºèƒ½é¢„ç®—è­¦ç¤ºï¼ŒåŸºäºå·¥ä½œæ—¶é—´è®¡ç®—æ¶ˆè´¹é€Ÿç‡
- æœˆåº¦å’Œæ—¥åº¦é¢„ç®—å¡ç‰‡å±•ç¤º

### è®¾ç½®é¡µé¢ - Options

- API è¿æ¥é…ç½®ï¼ˆURL + Tokenï¼‰
- å·¥ä½œæ—¶é—´åŒæ»‘å—é€‰æ‹©å™¨
- æ™ºèƒ½å­—æ®µæ˜ å°„ï¼Œè‡ªåŠ¨åŒ¹é…é¢„ç®—å­—æ®µ
- ç½®ä¿¡åº¦è¯„ä¼°å’Œè§†è§‰åé¦ˆ

## ğŸš€ å®‰è£…æ–¹å¼

### æ–¹å¼ä¸€ï¼šæ’ä»¶å¸‚åœºå®‰è£…ï¼ˆæ¨èï¼‰

#### Chrome Web Store

1. è®¿é—® [Chrome Web Store](https://chrome.google.com/webstore)
2. æœç´¢ "CC Usage Monitor"
3. ç‚¹å‡»"æ·»åŠ è‡³ Chrome"

#### Firefox Add-ons

1. è®¿é—® [Firefox Add-ons](https://addons.mozilla.org)
2. æœç´¢ "CC Usage Monitor"
3. ç‚¹å‡»"æ·»åŠ åˆ° Firefox"

### æ–¹å¼äºŒï¼šå¼€å‘è€…æ¨¡å¼å®‰è£…

#### ä¸‹è½½å®‰è£…åŒ…

1. è®¿é—® [Releases é¡µé¢](https://github.com/yoyooyooo/cc-usage-extension/releases)
2. ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„ `.zip` æ–‡ä»¶
3. è§£å‹åˆ°æœ¬åœ°æ–‡ä»¶å¤¹

#### Chrome å®‰è£…æ­¥éª¤

1. æ‰“å¼€ Chrome æµè§ˆå™¨
2. è®¿é—® `chrome://extensions/`
3. å¼€å¯å³ä¸Šè§’çš„"å¼€å‘è€…æ¨¡å¼"
4. ç‚¹å‡»"åŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åº"
5. é€‰æ‹©è§£å‹åçš„æ–‡ä»¶å¤¹

#### Firefox å®‰è£…æ­¥éª¤

1. æ‰“å¼€ Firefox æµè§ˆå™¨
2. è®¿é—® `about:debugging`
3. ç‚¹å‡»"æ­¤ Firefox"
4. ç‚¹å‡»"ä¸´æ—¶åŠ è½½é™„åŠ ç»„ä»¶"
5. é€‰æ‹©è§£å‹æ–‡ä»¶å¤¹ä¸­çš„ `manifest.json`

## âš™ï¸ ä½¿ç”¨æŒ‡å—

### åˆæ¬¡é…ç½®

1. **ç‚¹å‡»æ’ä»¶å›¾æ ‡**ï¼Œæ‰“å¼€å¼¹çª—ç•Œé¢
2. **ç‚¹å‡»è®¾ç½®æŒ‰é’®**ï¼ˆâš™ï¸ï¼‰ï¼Œè¿›å…¥é…ç½®é¡µé¢
3. **å¡«å†™ API é…ç½®**ï¼š
   - API URLï¼šæ‚¨çš„ API ç«¯ç‚¹åœ°å€
   - Tokenï¼šè®¿é—®ä»¤ç‰Œï¼ˆå®‰å…¨å­˜å‚¨ï¼‰
4. **é…ç½®å·¥ä½œæ—¶é—´**ï¼ˆå¯é€‰ï¼‰ï¼š
   - ä½¿ç”¨åŒæ»‘å—é€‰æ‹©å·¥ä½œæ—¶é—´åŒºé—´
   - é»˜è®¤ä¸º 09:00 - 24:00
5. **æµ‹è¯•è¿æ¥**ï¼š
   - ç‚¹å‡»"æµ‹è¯•è¿æ¥"éªŒè¯ API å¯ç”¨æ€§
   - ç³»ç»Ÿå°†è‡ªåŠ¨è¿è¡Œæ™ºèƒ½å­—æ®µåŒ¹é…
6. **ç¡®è®¤å­—æ®µæ˜ å°„**ï¼š
   - æŸ¥çœ‹è‡ªåŠ¨åŒ¹é…ç»“æœï¼ˆè“è‰²è¾¹æ¡† + âœ¨ å›¾æ ‡ï¼‰
   - æŸ¥çœ‹ç½®ä¿¡åº¦å’ŒåŒ¹é…åŸå› 
   - æ‰‹åŠ¨è°ƒæ•´æ˜ å°„ï¼ˆå¦‚éœ€è¦ï¼‰
7. **ä¿å­˜é…ç½®**

### æ—¥å¸¸ä½¿ç”¨

- **æŸ¥çœ‹é¢„ç®—çŠ¶æ€**ï¼šç‚¹å‡»æ’ä»¶å›¾æ ‡å³å¯æŸ¥çœ‹å®æ—¶æ•°æ®
- **é¢„ç®—è­¦ç¤º**ï¼šç³»ç»Ÿä¼šæ ¹æ®æ¶ˆè´¹é€Ÿç‡è‡ªåŠ¨æä¾›è­¦ç¤º
- **æ›´æ–°æ•°æ®**ï¼šç‚¹å‡»åˆ·æ–°æŒ‰é’®æ‰‹åŠ¨æ›´æ–°ï¼ˆæœ‰ 60 ç§’ç¼“å­˜ï¼‰

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### ç¯å¢ƒè¦æ±‚

- Node.js >= 16
- Bunï¼ˆæ¨èçš„åŒ…ç®¡ç†å™¨ï¼‰
- Chrome/Firefox æµè§ˆå™¨

### å®‰è£…ä¾èµ–

```bash
bun install
```

### å¼€å‘å‘½ä»¤

```bash
# å¼€å‘æ¨¡å¼ï¼ˆChromeï¼‰
npm run dev

# å¼€å‘æ¨¡å¼ï¼ˆFirefoxï¼‰
npm run dev:firefox

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build            # Chrome
npm run build:firefox    # Firefox

# ç±»å‹æ£€æŸ¥
npm run compile

# åˆ›å»ºå‘å¸ƒåŒ…
npm run zip              # Chrome
npm run zip:firefox      # Firefox
```

### é¡¹ç›®ç»“æ„

```
cc-usage/
â”œâ”€â”€ entrypoints/          # å…¥å£ç‚¹
â”‚   â”œâ”€â”€ popup/           # å¼¹çª—ç•Œé¢
â”‚   â”œâ”€â”€ options/         # è®¾ç½®é¡µé¢
â”‚   â”œâ”€â”€ background.ts    # åå°è„šæœ¬
â”‚   â””â”€â”€ content.ts       # å†…å®¹è„šæœ¬
â”œâ”€â”€ components/          # React ç»„ä»¶
â”‚   â”œâ”€â”€ ui/             # shadcn/ui åŸºç¡€ç»„ä»¶
â”‚   â”œâ”€â”€ DataCard.tsx    # æ•°æ®å¡ç‰‡
â”‚   â”œâ”€â”€ CircularProgress.tsx  # åœ†å½¢è¿›åº¦æ¡
â”‚   â””â”€â”€ SettingsView.tsx      # è®¾ç½®è§†å›¾
â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ api.ts         # API ç›¸å…³
â”‚   â”œâ”€â”€ storage.ts     # å­˜å‚¨ç®¡ç†
â”‚   â””â”€â”€ fieldMatcher.ts # æ™ºèƒ½å­—æ®µåŒ¹é…
â””â”€â”€ types/             # TypeScript ç±»å‹
```

### æ ¸å¿ƒæŠ€æœ¯æ ˆ

- **æ¡†æ¶**: WXT (åŸºäº Vite)
- **å‰ç«¯**: React 19 + TypeScript
- **æ ·å¼**: Tailwind CSS + shadcn/ui
- **çŠ¶æ€ç®¡ç†**: Zustandï¼ˆè½»é‡çº§ã€é«˜æ€§èƒ½ï¼‰
- **æ•°æ®å¯è§†åŒ–**: Rechartsï¼ˆå›¾è¡¨åº“ï¼‰
- **å­˜å‚¨**: chrome.storage.sync/local
- **æ„å»º**: Vite + TypeScript

## ğŸ”§ API æ•°æ®æ ¼å¼

### æœŸæœ›çš„ API å“åº”æ ¼å¼

æ’ä»¶æ”¯æŒçµæ´»çš„ JSON å“åº”æ ¼å¼ï¼Œé€šè¿‡æ™ºèƒ½å­—æ®µåŒ¹é…è‡ªåŠ¨è¯†åˆ«ï¼š

```json
{
  "monthlyBudget": 1000,
  "monthlySpent": 650,
  "dailyBudget": 50,
  "dailySpent": 25
}
```

### æ”¯æŒçš„å­—æ®µå‘½åé£æ ¼

- **é©¼å³°å‘½å**: `monthlyBudget`, `dailySpent`
- **ä¸‹åˆ’çº¿å‘½å**: `monthly_budget`, `daily_spent`
- **çŸ­æ¨ªçº¿å‘½å**: `monthly-budget`, `daily-spent`
- **åµŒå¥—å¯¹è±¡**: `budget.monthly`, `usage.daily`

### æ™ºèƒ½åŒ¹é…è§„åˆ™

| æ§½ä½     | åŒ¹é…å…³é”®è¯         | ç¤ºä¾‹å­—æ®µ                    |
| -------- | ------------------ | --------------------------- |
| æœˆåº¦é¢„ç®— | month + budget     | monthlyBudget, month_budget |
| æœˆåº¦èŠ±è´¹ | month + spent/used | monthlySpent, month_used    |
| æ—¥åº¦é¢„ç®— | daily + budget     | dailyBudget, daily_budget   |
| æ—¥åº¦èŠ±è´¹ | daily + spent/used | dailySpent, daily_used      |

## ğŸ”’ éšç§ä¸å®‰å…¨

- **æœ¬åœ°å­˜å‚¨**: æ‰€æœ‰é…ç½®æ•°æ®å­˜å‚¨åœ¨æµè§ˆå™¨æœ¬åœ°
- **Token ä¿æŠ¤**: API Token ä½¿ç”¨å®‰å…¨å­˜å‚¨ï¼Œä¸ä¼šæ˜æ–‡æ˜¾ç¤º
- **æ— æ•°æ®æ”¶é›†**: æ’ä»¶ä¸ä¼šæ”¶é›†æˆ–ä¸Šä¼ ä»»ä½•ç”¨æˆ·æ•°æ®
- **æƒé™æœ€å°åŒ–**: ä»…è¯·æ±‚å¿…è¦çš„æµè§ˆå™¨æƒé™

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

### å¼€å‘è§„èŒƒ

- ä½¿ç”¨ TypeScript ç¼–å†™ä»£ç 
- éµå¾ªç°æœ‰çš„ä»£ç é£æ ¼
- æ·»åŠ é€‚å½“çš„æ³¨é‡Šå’Œç±»å‹å®šä¹‰
- ç¡®ä¿æ‰€æœ‰åŠŸèƒ½éƒ½ç»è¿‡æµ‹è¯•

## ğŸ“‹ æ›´æ–°æ—¥å¿—

### v1.2.1 (2025-01-19) - çŠ¶æ€ç®¡ç†é‡æ„

- âš¡ **æ¶æ„å‡çº§** - é‡æ„ä¸º Zustand + Chrome Storage ç»Ÿä¸€æ•°æ®æºæ¶æ„
- ğŸ”§ **æ•°æ®æµä¼˜åŒ–** - è§£å†³çŠ¶æ€é‡å¤ç»´æŠ¤å’Œ ref é€šä¿¡å¤æ‚åº¦é—®é¢˜
- ğŸ› **ä¿®å¤ä¿å­˜é—®é¢˜** - è§£å†³è®¾ç½®ä¿å­˜æŒ‰é’®å¤±æ•ˆçš„æ—¶åºé—®é¢˜
- ğŸ“ˆ **æ€§èƒ½æå‡** - ç®€åŒ–ç»„ä»¶é€šä¿¡ï¼Œæé«˜çŠ¶æ€åŒæ­¥æ•ˆç‡
- ğŸ›¡ï¸ **ç±»å‹å®‰å…¨** - å®Œæ•´çš„ TypeScript ç±»å‹æ£€æŸ¥æ”¯æŒ

### v1.2.0 (2025-01-19) - å†å²æ•°æ®ä¸å›¾è¡¨

- ğŸ“Š **å†å²æ•°æ®è®°å½•** - è‡ªåŠ¨ä¿å­˜æ¯æ¬¡åˆ·æ–°çš„é¢„ç®—æ•°æ®
- ğŸ“ˆ **å¤šç§å›¾è¡¨è§†å›¾** - æ”¯æŒè¶‹åŠ¿å›¾å’Œ 24 å°æ—¶æ—¶é—´çº¿å›¾è¡¨
- ğŸ¯ **è‡ªå®šä¹‰è­¦ç¤ºé˜ˆå€¼** - å¯é…ç½®çš„ 4 çº§é¢„ç®—è­¦ç¤ºç³»ç»Ÿ
- ğŸ“¤ **æ•°æ®å¯¼å‡ºåŠŸèƒ½** - æ”¯æŒ CSV æ ¼å¼çš„å†å²æ•°æ®å¯¼å‡º
- ğŸ’¾ **æ™ºèƒ½å­˜å‚¨ç­–ç•¥** - è‡ªåŠ¨å»é‡å’Œ 30 å¤©æ•°æ®ä¿ç•™æœºåˆ¶

### v1.1.0 (2025-01-19) - æ™ºèƒ½é€šçŸ¥ç³»ç»Ÿ

- âœ¨ æ–°å¢æ™ºèƒ½é€šçŸ¥åŠŸèƒ½ - è‡ªå®šä¹‰é˜ˆå€¼å’ŒæŸ¥è¯¢é—´éš”
- ğŸ”” æ”¯æŒæ—¥åº¦/æœˆåº¦é¢„ç®—è­¦å‘Šé€šçŸ¥
- â° å¯é…ç½®çš„åå°å®šæ—¶æŸ¥è¯¢ï¼ˆ1-60 åˆ†é’Ÿï¼‰
- ğŸ¯ é˜ˆå€¼é…ç½®æ”¯æŒ 50%-95%èŒƒå›´
- ğŸ”„ æ¯æ—¥/æœˆåº¦è‡ªåŠ¨é‡ç½®é€šçŸ¥çŠ¶æ€
- ğŸ’¡ ä¼˜åŒ–è®¾ç½®ç•Œé¢ï¼Œæ–°å¢é€šçŸ¥é…ç½®åŒºåŸŸ

### v1.0.0 (é¦–æ¬¡å‘å¸ƒ)

- âœ¨ æ™ºèƒ½å­—æ®µåŒ¹é…åŠŸèƒ½ - è‡ªåŠ¨è¯†åˆ« API å“åº”ä¸­çš„é¢„ç®—å’ŒèŠ±è´¹å­—æ®µ
- ğŸ” ç½®ä¿¡åº¦è¯„ä¼°å’Œè§†è§‰åé¦ˆ - æä¾›åŒ¹é…åŸå› è¯´æ˜
- ğŸ¨ ç°ä»£åŒ–æ·±è‰²ä¸»é¢˜è®¾è®¡ - ä¼˜é›…çš„ç”¨æˆ·ç•Œé¢
- ğŸ¯ åœ†å½¢è¿›åº¦æŒ‡ç¤ºå™¨ - ç›´è§‚æ˜¾ç¤ºä½¿ç”¨ç‡
- â±ï¸ å®æ—¶å€’è®¡æ—¶åŠŸèƒ½ - å½“å¤©å‰©ä½™æ—¶é—´
- âš ï¸ æ™ºèƒ½é¢„ç®—è­¦ç¤ºç³»ç»Ÿ - 6 çº§è­¦ç¤ºæé†’
- â° å·¥ä½œæ—¶é—´é…ç½®åŠŸèƒ½ - ç²¾å‡†çš„æ¶ˆè´¹é€Ÿç‡è®¡ç®—
- ğŸ“Š æ•°æ®å¯è§†åŒ–å¡ç‰‡ - æ¸…æ™°çš„é¢„ç®—å±•ç¤º

## ğŸ› é—®é¢˜åé¦ˆ

å¦‚æœæ‚¨é‡åˆ°é—®é¢˜æˆ–æœ‰åŠŸèƒ½å»ºè®®ï¼Œè¯·ï¼š

1. æŸ¥çœ‹ [FAQ](https://github.com/yoyooyooo/cc-usage-extension/wiki/FAQ)
2. æœç´¢ [å·²çŸ¥é—®é¢˜](https://github.com/yoyooyooo/cc-usage-extension/issues)
3. åˆ›å»ºæ–°çš„ [Issue](https://github.com/yoyooyooo/cc-usage-extension/issues/new)

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº [MIT License](LICENSE) å¼€æºåè®®ã€‚

## ğŸ™ è‡´è°¢

- [WXT Framework](https://wxt.dev/) - ç°ä»£åŒ–æ‰©å±•å¼€å‘æ¡†æ¶
- [shadcn/ui](https://ui.shadcn.com/) - ä¼˜é›…çš„ UI ç»„ä»¶åº“
- [Tailwind CSS](https://tailwindcss.com/) - å®ç”¨çš„ CSS æ¡†æ¶
- [Lucide React](https://lucide.dev/) - ç²¾ç¾çš„å›¾æ ‡åº“

---

<div align="center">

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª â­ï¸ Star æ”¯æŒï¼**

[ğŸŒŸ GitHub](https://github.com/yoyooyooo/cc-usage-extension) | [ğŸ’¬ åé¦ˆ](https://github.com/yoyooyooo/cc-usage-extension/issues) | [ğŸ“– æ–‡æ¡£](https://github.com/yoyooyooo/cc-usage-extension/wiki)

</div>
